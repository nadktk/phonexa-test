{"version":3,"sources":["main.js"],"names":["$","validator","addMethod","value","element","this","optional","test","validate","rules","firstname","required","lettersOnly","lastname","login","email","password","passwordRule","cpassword","equalTo","department","vacancy","messages","jobs","JSON","parse","$form","form","depSelect","vacSelect","step1","step2","step3","departments","append","concat","switchSteps","current","next","animate","opacity","left","duration","easing","complete","hide","css","fadeIn","children","remove","change","not","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","err","prop","click","text","company","e","preventDefault","newData","window","localStorage","setItem","stringify"],"mappings":"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","file":"script.js","sourcesContent":["let jobsJSON = `{\r\n  \"departments\": {\r\n    \"Sales\" : [\r\n      \"Sales Manager\",\r\n      \"Account Manager\"\r\n    ],\r\n    \"Marketing\" : [\r\n      \"Creative Manager\",\r\n      \"Marketing Coordinator\",\r\n      \"Content Writer\"\r\n    ],\r\n    \"Technology\" : [\r\n      \"Project Manager\",\r\n      \"Software Developer\",\r\n      \"PHP programmer\",\r\n      \"Front End\",\r\n      \"Quality Assurance\"\r\n    ]\r\n  }\r\n}`;\r\n\r\n/* custom validation methods */\r\n$.validator.addMethod(\r\n  'lettersOnly',\r\n  function(value, element) {\r\n    return this.optional(element) || /^[a-zA-Zа-яА-ЯёЁіІїЇ]+$/.test(value);\r\n  },\r\n  'Only letters are allowed'\r\n);\r\n\r\n$.validator.addMethod(\r\n  'passwordRule',\r\n  function(value, element) {\r\n    return (\r\n      this.optional(element) ||\r\n      (/\\d/.test(value) &&\r\n        /[!@#$%^&*~]/.test(value) &&\r\n        /[a-zA-Zа-яА-ЯёЁіІїЇ]/.test(value))\r\n    );\r\n  },\r\n  'Required at least one number, uppercase and lowercase letters and at least one special character(!@#$%^&*~)'\r\n);\r\n\r\n/* set up validator */\r\nconst validator = $('#register-form').validate({\r\n  rules: {\r\n    firstname: {\r\n      required: true,\r\n      lettersOnly: true\r\n    },\r\n    lastname: {\r\n      required: true,\r\n      lettersOnly: true\r\n    },\r\n    login: 'required',\r\n    email: {\r\n      required: true,\r\n      email: true\r\n    },\r\n    password: {\r\n      required: true,\r\n      passwordRule: true\r\n    },\r\n    cpassword: {\r\n      required: true,\r\n      equalTo: '#password'\r\n    },\r\n    department: 'required',\r\n    vacancy: 'required'\r\n  },\r\n  messages: {\r\n    firstname: { required: 'Please specify your first name' },\r\n    lastname: { required: 'Please specify your last name' },\r\n    login: 'Please specify your login',\r\n    email: {\r\n      required: 'We need your email address to contact you',\r\n      email: 'Your email address must be in the format of name@domain.com'\r\n    },\r\n    password: { required: 'Please specify your password' },\r\n    cpassword: 'Must be equal to password'\r\n  }\r\n});\r\n\r\n$(function() {\r\n  const jobs = JSON.parse(jobsJSON);\r\n  const $form = $('#register-form');\r\n  const form = $form[0];\r\n\r\n  const depSelect = $('#dep-select');\r\n  const vacSelect = $('#vac-select');\r\n\r\n  const step1 = $('#fs-step1');\r\n  const step2 = $('#fs-step2');\r\n  const step3 = $('#fs-step3');\r\n\r\n  /* show departments options */\r\n  for (let department in jobs.departments) {\r\n    depSelect.append(`<option value=\"${department}\">${department}</option>`);\r\n  }\r\n\r\n  /* show vacancies options */\r\n  depSelect.change(function() {\r\n    vacSelect\r\n      .children()\r\n      .not(':first-child')\r\n      .remove();\r\n    for (let vacancy of jobs.departments[this.value]) {\r\n      vacSelect.append(`<option value=\"${vacancy}\">${vacancy}</option>`);\r\n    }\r\n    vacSelect.prop('disabled', false);\r\n  });\r\n\r\n  /* buttons actions*/\r\n  $('#next1').click(() => {\r\n    const isValid = validator.form();\r\n    if (isValid) {\r\n      switchSteps(step1, step2);\r\n    }\r\n  });\r\n\r\n  $('#next2').click(() => {\r\n    const isValid = validator.form();\r\n    if (isValid) {\r\n      switchSteps(step2, step3);\r\n      /* set info block */\r\n      $('#name-info').text(form.firstname.value + ' ' + form.lastname.value);\r\n      $('#login-info').text(form.login.value);\r\n      $('#email-info').text(form.email.value);\r\n      $('#company-info').text(form.company.value);\r\n      $('#department-info').text(form.department.value);\r\n      $('#vacancy-info').text(form.vacancy.value);\r\n    }\r\n  });\r\n\r\n  $('#edit').click(() => switchSteps(step3, step1));\r\n\r\n  $('#submit-register-form').click(function(e) {\r\n    e.preventDefault();\r\n    const newData = {\r\n      firstname: form.firstname.value,\r\n      lastname: form.lastname.value,\r\n      login: form.login.value,\r\n      email: form.email.value,\r\n      company: form.company.value,\r\n      password: form.password.value\r\n    };\r\n    window.localStorage.setItem('myData', JSON.stringify(newData));\r\n    switchSteps(step3);\r\n  });\r\n\r\n  /* function for steps switching */\r\n  function switchSteps(current, next) {\r\n    current.animate(\r\n      { opacity: 0, left: -400 },\r\n      {\r\n        duration: 200,\r\n        easing: 'swing',\r\n        complete: function() {\r\n          current.hide();\r\n          current.css({ opacity: 1, left: 0 });\r\n          if (!next) {\r\n            $form.children().remove();\r\n            $form\r\n              .append(\r\n                `<fieldset class=\"step-screen\"><h2>Thank you!</h2><p class=\"success\">&#10004; Registration completed successfully</p></fieldset>`\r\n              )\r\n              .hide()\r\n              .fadeIn();\r\n          } else {\r\n            next.fadeIn();\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n});\r\n"]}